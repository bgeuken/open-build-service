- first_flag = flags['all'].first.flag
.table-responsive
  %table.table.table-hover
    %thead.thead-light
      %tr
        %th.col-6 Repository
        %th.col-2 All
        - @architectures.each do |architecture|
          %th.col-2= architecture.name
    %tbody
      %tr
        %td.reponame
          %strong All
        - flags['all'].each do |flag|
          %td.all_flag
            = render partial: 'shared/repositories_flag_table_column', locals: { flag: flag }
      - @project.repositories.each do |repository|
        %tr
          %td.reponame
            %strong{ title: repository.name }
              - if @package
                = link_to(elide(repository.name, 18), package_binaries_path(project: @project, package: @package, repository: repository.name))
              - else
                = link_to(elide(repository.name, 18), action: :state, project: @project, repository: repository.name)
          - flags[repository.name].each_with_index do |flag, index|
            %td{ class: index == 0 ? 'all_flag' : nil }
              = render partial: 'shared/repositories_flag_table_column', locals: { flag: flag }
